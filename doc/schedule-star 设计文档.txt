schedule-star 轻量级分布式任务调度系统

一、任务类型

1. 独立任务
2. 子任务 A -- B
3. 多子任务
              -- B
             /
            A -- C
             \
              -- D
4. 复杂多子任务
              - B -            - B
             /     \          /  |
            A - C - E  或者   A - C
             \     /
              - D -
5. 环状任务关系（这个禁止出现）

二、任务调度执行业务梳理

1、任务调度机制基于quartz实现。任务可以由quartz调度（配置了cron表达式），也可以由另一个任务调度（子任务由父任务调度）。
如果子任务也配置了cron表达式，则子任务既可以由父任务调度，也可以由quartz调度，建议不要给子任务配置cron表达式。
2、当任务收到执行结果时，如果是独立任务，则记录执行结果信息。如果是非独立任务，则生成对应的子任务调度优先级列表，执行结果成功是按照
优先级列表顺序来进行任务调度，否则记录调度信息和优先级列表。

生成子任务优先级列表算法：
    如果收到任务A的执行结果，则提取A所有子任务，按照顺序插入list中，这些子任务level设置为1；
    然后再接着提取这些子任务的子任务，level设置为2，如果list中已经存在该子任务信息则删除之前的子任务信息；
    直到所有子任务再没有子任务为止。

当生成子任务优先级列表时，表示该出发子任务调度了。如果子任务优先级列表中所有子任务的level都是一样的，则全部触发调度。
否则从列表中第一个开始触发，并将该子任务优先级列表随着任务信息一起发送给调度器，调度器再将子任务优先级列表随着调度结果
返回给调度中心，这样就能继续根据子任务优先级列表愉快地进行任务调度了。